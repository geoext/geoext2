<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">describe(&quot;Ext&quot;, function() {

    describe(&quot;Ext.global&quot;, function() {
        it(&quot;should return the global scope&quot;, function() {
            expect(Ext.global).toBe((function(){ return this;}).call());
        });
    });

    describe(&quot;Ext.apply&quot;, function() {
        var origin, o;

        beforeEach(function() {
            origin = {
                name: 'value',
                something: 'cool',
                items: [1,2,3],
                method: function() {
                    this.myMethodCalled = true;
                },
                toString: function() {
                    this.myToStringCalled = true;
                }
            };
        });

        it(&quot;should copy normal properties&quot;, function() {
            Ext.apply(origin, {
                name: 'newName',
                items: [4,5,6],
                otherThing: 'not cool',
                isCool: false
            });

            expect(origin.name).toEqual('newName');
            expect(origin.items).toEqual([4,5,6]);
            expect(origin.something).toEqual('cool');
            expect(origin.otherThing).toEqual('not cool');
            expect(origin.isCool).toEqual(false);
        });

        it(&quot;should copy functions&quot;, function() {
            Ext.apply(origin, {
                method: function() {
                    this.newMethodCalled = true;
                }
            });

            origin.method();

            expect(origin.myMethodCalled).not.toBeDefined();
            expect(origin.newMethodCalled).toBeTruthy();
        });

        it(&quot;should copy non-enumerables&quot;, function() {
            Ext.apply(origin, {
                toString: function() {
                    this.newToStringCalled = true;
                }
            });

            origin.toString();

            expect(origin.myToStringCalled).not.toBeDefined();
            expect(origin.newToStringCalled).toBeTruthy();
        });

        it(&quot;should apply properties and return an object&quot;, function() {
            o = Ext.apply({}, {
                foo: 1,
                bar: 2
            });

            expect(o).toEqual({
                foo: 1,
                bar: 2
            });
        });

        it(&quot;should change the reference of the object&quot;, function() {
            o = {};
            Ext.apply(o, {
                opt1: 'x',
                opt2: 'y'
            });

            expect(o).toEqual({
                opt1: 'x',
                opt2: 'y'
            });
        });

        it(&quot;should overwrite properties&quot;, function() {
            o = Ext.apply({
                foo: 1,
                baz: 4
            }, {
                foo: 2,
                bar: 3
            });

            expect(o).toEqual({
                foo: 2,
                bar: 3,
                baz: 4
            });
        });

        it(&quot;should use default&quot;, function() {
            o = {};

            Ext.apply(o, {
                foo: 'new',
                exist: true
            }, {
                foo: 'old',
                def: true
            });

            expect(o).toEqual({
                foo: 'new',
                def: true,
                exist: true
            });
        });

        it(&quot;should override all defaults&quot;, function() {
            o = Ext.apply({}, {
                foo: 'foo',
                bar: 'bar'
            }, {
                foo: 'oldFoo',
                bar: 'oldBar'
            });

            expect(o).toEqual( {
                foo: 'foo',
                bar: 'bar'
            });
        });

        it(&quot;should return null if null is passed as first argument&quot;, function() {
           expect(Ext.apply(null, {})).toBeNull();
        });

        it(&quot;should return the object if second argument is not defined&quot;, function() {
            o = {
                foo: 1
            };
            expect(Ext.apply(o)).toEqual(o);
        });

        it(&quot;should override valueOf&quot;, function() {
            o = Ext.apply({}, {valueOf: 1});

            expect(o.valueOf).toEqual(1);
        });

        it(&quot;should override toString&quot;, function() {
            o = Ext.apply({}, {toString: 3});

            expect(o.toString).toEqual(3);

        });
    });

    describe(&quot;Ext.emptyFn&quot;, function() {
        it(&quot;should return undefined without params&quot;, function() {
            expect(Ext.emptyFn()).toBeUndefined();
        });

        it(&quot;should return undefined if you pass params&quot;, function() {
           expect(Ext.emptyFn('aaaa', 'bbbbb')).toBeUndefined();
        });
    });

    describe(&quot;Ext.iterate&quot;, function() {
        var itFn;

        beforeEach(function() {
            itFn = jasmine.createSpy();
        });

        describe(&quot;iterate object&quot;, function() {
            var o;

            beforeEach(function() {
                o = {
                    n1: 11,
                    n2: 13,
                    n3: 18
                };
            });

            describe(&quot;if itFn does not return false&quot;, function() {
                beforeEach(function() {
                    Ext.iterate(o, itFn);
                });

                it(&quot;should call the iterate function 3 times&quot;, function () {
                    expect(itFn.callCount).toEqual(3);
                });

                it(&quot;should call the iterate function with correct arguments&quot;, function () {
                    expect(itFn.calls[0].args).toEqual([&quot;n1&quot;, 11, o]);
                    expect(itFn.calls[1].args).toEqual([&quot;n2&quot;, 13, o]);
                    expect(itFn.calls[2].args).toEqual([&quot;n3&quot;, 18, o]);
                });
            });

            describe(&quot;if itFn return false&quot;, function() {
                beforeEach(function() {
                    itFn.andReturn(false);
                    Ext.iterate(o, itFn);
                });

                it(&quot;should stop iteration if function return false&quot;, function() {
                    itFn.andReturn(false);

                    expect(itFn.calls.length).toEqual(1);
                });
            });
        });

        describe(&quot;do nothing on an empty object&quot;, function() {
            var o;

            beforeEach(function() {
                o = {};
                Ext.iterate(o, itFn);
            });

            it(&quot;should not call the iterate function&quot;, function () {
                expect(itFn).not.toHaveBeenCalled();
            });

        });

        describe(&quot;iterate array&quot;, function() {
            var arr;

            beforeEach(function() {
                arr = [6, 7, 8, 9];
            });

            describe(&quot;if itFn does not return false&quot;, function() {
                beforeEach(function() {
                    Ext.iterate(arr, itFn);
                });

                it(&quot;should call the iterate function 4 times&quot;, function () {
                    expect(itFn.callCount).toEqual(4);
                });

                it(&quot;should call the iterate function with correct arguments&quot;, function () {
                    expect(itFn.calls[0].args).toEqual([6, 0, arr]);
                    expect(itFn.calls[1].args).toEqual([7, 1, arr]);
                    expect(itFn.calls[2].args).toEqual([8, 2, arr]);
                    expect(itFn.calls[3].args).toEqual([9, 3, arr]);
                });
             });

            describe(&quot;if itFn return false&quot;, function() {
                beforeEach(function() {
                    itFn.andReturn(false);
                    Ext.iterate(arr, itFn);
                });

                it(&quot;should stop iteration if function return false&quot;, function() {
                    itFn.andReturn(false);

                    expect(itFn.calls.length).toEqual(1);
                });
            });
        });

        describe(&quot;do nothing on an empty array&quot;, function() {
            var arr;

            beforeEach(function() {
                arr = [];
                Ext.iterate(arr, itFn);
            });

            it(&quot;should not call the iterate function&quot;, function () {
                expect(itFn).not.toHaveBeenCalled();
            });

        });
    });

    describe(&quot;Ext.applyIf&quot;, function(){
        var o;

        it(&quot;should apply properties and return an object with an empty destination object&quot;, function() {
            o = Ext.applyIf({}, {
                foo: 'foo',
                bar: 'bar'
            });

            expect(o).toEqual( {
                foo: 'foo',
                bar: 'bar'
            });
        });

        it(&quot;should not override default properties&quot;, function() {
            o = Ext.applyIf({
                foo: 'foo'
            }, {
                foo: 'oldFoo'
            });

            expect(o).toEqual({
                foo: 'foo'
            });
        });

        it(&quot;should not override default properties with mixing properties&quot;, function() {
            o = Ext.applyIf({
                foo: 1,
                bar: 2
            }, {
                bar: 3,
                baz: 4
            });

            expect(o).toEqual({
                foo: 1,
                bar: 2,
                baz: 4
            });
        });

          it(&quot;should change the reference of the object&quot;, function() {
            o = {};
            Ext.applyIf(o, {
                foo: 2
            }, {
                foo: 1
            });

            expect(o).toEqual({
                foo: 2
            });
        });

        it(&quot;should return null if null is passed as first argument&quot;, function() {
           expect(Ext.applyIf(null, {})).toBeNull();
        });

        it(&quot;should return the object if second argument is no defined&quot;, function() {
            o = {
                foo: 1
            };

            expect(Ext.applyIf(o)).toEqual(o);
        });
    });


    describe(&quot;Ext.extend&quot;, function() {
        var Dude, Awesome, david;

        beforeEach(function() {
            Dude = Ext.extend(Object, {
                constructor: function(config){
                    Ext.apply(this, config);
                    this.isBadass = false;
                }
            });

            Awesome = Ext.extend(Dude, {
                constructor: function(){
                    Awesome.superclass.constructor.apply(this, arguments);
                    this.isBadass = true;
                }
            });

            david = new Awesome({
                davis: 'isAwesome'
            });
        });

        it(&quot;should throw an error if superclass isn't defined&quot;, function() {
            expect(function() {
                Ext.extend(undefined, {});
            }).toThrow(&quot;Attempting to extend from a class which has not been loaded on the page.&quot;);
        });

        it(&quot;should create a superclass that return the original classe&quot;, function() {
            expect(david.superclass).toEqual(Dude.prototype);
        });

        it(&quot;should add override method&quot;, function() {
            expect(typeof david.override === 'function').toBe(true);
        });

        it(&quot;should override redefined methods&quot;, function() {
            expect(david.isBadass).toBe(true);
        });

        it(&quot;should keep new properties&quot;, function() {
            expect(david.davis).toEqual('isAwesome');
        });
    });

    describe(&quot;Ext.override&quot;, function(){
        var Dude,
            extApplySpy;

        beforeEach(function(){
            Dude = function(){}; // avoid to directly override Object class
            extApplySpy = spyOn(Ext, &quot;apply&quot;);
        });

        it(&quot;should apply override&quot;, function(){
            var override = {foo: true};

            Ext.override(Dude, override);

            expect(extApplySpy).toHaveBeenCalledWith(Dude.prototype, override);
        });
    });

    describe(&quot;Ext.valueFrom&quot;, function() {
        var value, defaultValue;

        describe(&quot;with allowBlank&quot;, function() {
            describe(&quot;and an empty string&quot;, function() {
                it(&quot;should return the value&quot;, function() {
                    expect(Ext.valueFrom('', 'aaa', true)).toBe('');
                });
            });

            describe(&quot;and a string&quot;, function() {
                it(&quot;should return the value&quot;, function() {
                    expect(Ext.valueFrom('bbb', 'aaa', true)).toBe('bbb');
                });
            });

            describe(&quot;and an undefined value&quot;, function() {
                it(&quot;should return the default value&quot;, function() {
                    expect(Ext.valueFrom(undefined, 'aaa', true)).toBe('aaa');
                });
            });

            describe(&quot;and a null value&quot;, function() {
                it(&quot;should return the default value&quot;, function() {
                    expect(Ext.valueFrom(null, 'aaa', true)).toBe('aaa');
                });
            });

            describe(&quot;and a 0 value&quot;, function() {
                it(&quot;should return the value&quot;, function() {
                    expect(Ext.valueFrom(0, 'aaa', true)).toBe(0);
                });
            });
        });

        describe(&quot;without allowBlank&quot;, function() {
            describe(&quot;and an empty string&quot;, function() {
                it(&quot;should return the default value&quot;, function() {
                    expect(Ext.valueFrom('', 'aaa')).toBe('aaa');
                });
            });

            describe(&quot;and a string&quot;, function() {
                it(&quot;should return the value&quot;, function() {
                    expect(Ext.valueFrom('bbb', 'aaa')).toBe('bbb');
                });
            });

            describe(&quot;and an undefined value&quot;, function() {
                it(&quot;should return the default value&quot;, function() {
                    expect(Ext.valueFrom(undefined, 'aaa')).toBe('aaa');
                });
            });

            describe(&quot;and a null value&quot;, function() {
                it(&quot;should return the default value&quot;, function() {
                    expect(Ext.valueFrom(null, 'aaa')).toBe('aaa');
                });
            });

            describe(&quot;and a 0 value&quot;, function() {
                it(&quot;should return the value&quot;, function() {
                    expect(Ext.valueFrom(0, 'aaa')).toBe(0);
                });
            });
        });
    });

    describe(&quot;Ext.typeOf&quot;, function() {
        
        it(&quot;should return null&quot;, function() {
            expect(Ext.typeOf(null)).toEqual('null');
        });
        
        it(&quot;should return undefined&quot;, function() {
            expect(Ext.typeOf(undefined)).toEqual('undefined');
            expect(Ext.typeOf(window.someWeirdPropertyThatDoesntExist)).toEqual('undefined');
        });


        it(&quot;should return string&quot;, function() {
            expect(Ext.typeOf('')).toEqual('string');
            expect(Ext.typeOf('something')).toEqual('string');
            expect(Ext.typeOf('1.2')).toEqual('string');
        });

        it(&quot;should return number&quot;, function() {
            expect(Ext.typeOf(1)).toEqual('number');
            expect(Ext.typeOf(1.2)).toEqual('number');
            expect(Ext.typeOf(new Number(1.2))).toEqual('number');
        });


        it(&quot;should return boolean&quot;, function() {
            expect(Ext.typeOf(true)).toEqual('boolean');
            expect(Ext.typeOf(false)).toEqual('boolean');
            expect(Ext.typeOf(new Boolean(true))).toEqual('boolean');
        });
        

        it(&quot;should return array&quot;, function() {
            expect(Ext.typeOf([1,2,3])).toEqual('array');
            expect(Ext.typeOf(new Array(1,2,3))).toEqual('array');
        });
        
        it(&quot;should return function&quot;, function() {
            expect(Ext.typeOf(function(){})).toEqual('function');
            expect(Ext.typeOf(new Function())).toEqual('function');
            expect(Ext.typeOf(Object)).toEqual('function');
            expect(Ext.typeOf(Array)).toEqual('function');
            expect(Ext.typeOf(Number)).toEqual('function');
            expect(Ext.typeOf(Function)).toEqual('function');
            expect(Ext.typeOf(Boolean)).toEqual('function');
            expect(Ext.typeOf(String)).toEqual('function');
            expect(Ext.typeOf(Date)).toEqual('function');
            expect(Ext.typeOf(Ext.typeOf)).toEqual('function');

            // In IE certain native functions come back as objects, e.g. alert, prompt and document.getElementById. It
            // isn't clear exactly what correct behaviour should be in those cases as attempting to treat them like
            // normal functions can causes various problems. Some, like document.getElementBy, have call and apply
            // methods so in most cases will behave like any other function. It might be possible to detect them by
            // using something like this:
            //
            // if (typeof obj === 'object' &amp;&amp; !obj.toString &amp;&amp; obj.call &amp;&amp; obj.apply &amp;&amp; (obj + '')) {...}
        });
        
        it(&quot;should return regexp&quot;, function() {
            expect(Ext.typeOf(/test/)).toEqual('regexp');
            expect(Ext.typeOf(new RegExp('test'))).toEqual('regexp');
        });

        it(&quot;should return date&quot;, function() {
            expect(Ext.typeOf(new Date())).toEqual('date');
        });
        
        it(&quot;should return textnode&quot;, function() {
            expect(Ext.typeOf(document.createTextNode('tada'))).toEqual('textnode');
            expect(Ext.typeOf(document.createTextNode(' '))).toEqual('whitespace');
            expect(Ext.typeOf(document.createTextNode('         '))).toEqual('whitespace');
        });

        it(&quot;should return element&quot;, function() {
            expect(Ext.typeOf(document.getElementsByTagName('body')[0])).toEqual('element');
            expect(Ext.typeOf(document.createElement('button'))).toEqual('element');
            expect(Ext.typeOf(new Image())).toEqual('element');
        });

        it(&quot;should return object&quot;, function() {
            expect(Ext.typeOf({some: 'stuff'})).toEqual('object');
            expect(Ext.typeOf(new Object())).toEqual('object');
            expect(Ext.typeOf(window)).toEqual('object');
        });

    });

    describe(&quot;Ext.isIterable&quot;, function() {
        it(&quot;should return true with empty array&quot;, function() {
            expect(Ext.isIterable([])).toBe(true);
        });

        it(&quot;should return true with filled array&quot;, function() {
            expect(Ext.isIterable([1, 2, 3, 4])).toBe(true);
        });

        it(&quot;should return false with boolean true&quot;, function() {
            expect(Ext.isIterable(true)).toBe(false);
        });

        it(&quot;should return false with boolean false&quot;, function() {
            expect(Ext.isIterable(false)).toBe(false);
        });

        it(&quot;should return false with string&quot;, function() {
            expect(Ext.isIterable(&quot;foo&quot;)).toBe(false);
        });

        it(&quot;should return false with empty string&quot;, function() {
            expect(Ext.isIterable(&quot;&quot;)).toBe(false);
        });

        it(&quot;should return false with number&quot;, function() {
            expect(Ext.isIterable(1)).toBe(false);
        });

        it(&quot;should return false with null&quot;, function() {
            expect(Ext.isIterable(null)).toBe(false);
        });

        it(&quot;should return false with undefined&quot;, function() {
            expect(Ext.isIterable(undefined)).toBe(false);
        });

        it(&quot;should return false with date&quot;, function() {
            expect(Ext.isIterable(new Date())).toBe(false);
        });

        it(&quot;should return false with empty object&quot;, function() {
            expect(Ext.isIterable({})).toBe(false);
        });

        it(&quot;should return true with node list&quot;, function() {
            expect(Ext.isIterable(document.getElementsByTagName('body'))).toBe(true);
        });

        it(&quot;should return true with html collection&quot;, function() {
            expect(Ext.isIterable(document.images)).toBe(true);
        });
        
        it(&quot;should return false for a function&quot;, function(){
            expect(Ext.isIterable(function(){})).toBe(false);
        });
    });

    describe(&quot;Ext.isArray&quot;, function() {
        it(&quot;should return true with empty array&quot;, function() {
            expect(Ext.isArray([])).toBe(true);
        });

        it(&quot;should return true with filled array&quot;, function() {
            expect(Ext.isArray([1, 2, 3, 4])).toBe(true);
        });

        it(&quot;should return false with boolean true&quot;, function() {
            expect(Ext.isArray(true)).toBe(false);
        });

        it(&quot;should return false with boolean false&quot;, function() {
            expect(Ext.isArray(false)).toBe(false);
        });

        it(&quot;should return false with string&quot;, function() {
            expect(Ext.isArray(&quot;foo&quot;)).toBe(false);
        });

        it(&quot;should return false with empty string&quot;, function() {
            expect(Ext.isArray(&quot;&quot;)).toBe(false);
        });

        it(&quot;should return false with number&quot;, function() {
            expect(Ext.isArray(1)).toBe(false);
        });

        it(&quot;should return false with null&quot;, function() {
            expect(Ext.isArray(null)).toBe(false);
        });

        it(&quot;should return false with undefined&quot;, function() {
            expect(Ext.isArray(undefined)).toBe(false);
        });

        it(&quot;should return false with date&quot;, function() {
            expect(Ext.isArray(new Date())).toBe(false);
        });

        it(&quot;should return false with empty object&quot;, function() {
            expect(Ext.isArray({})).toBe(false);
        });

        it(&quot;should return false with node list&quot;, function() {
            expect(Ext.isArray(document.getElementsByTagName('body'))).toBe(false);
        });

        it(&quot;should return false with custom class that has a length property&quot;, function() {
            var C = Ext.extend(Object, {
                length: 1
            });
            expect(Ext.isArray(new C())).toBe(false);
        });

        it(&quot;should return false with element&quot;, function() {
           expect(Ext.isArray(Ext.getBody().dom)).toBe(false);
        });
    });

    describe(&quot;Ext.isBoolean&quot;, function() {
        it(&quot;should return false with empty array&quot;, function() {
            expect(Ext.isBoolean([])).toBe(false);
        });

        it(&quot;should return false with filled array&quot;, function() {
            expect(Ext.isBoolean([1, 2, 3, 4])).toBe(false);
        });

        it(&quot;should return true with boolean true&quot;, function() {
            expect(Ext.isBoolean(true)).toBe(true);
        });

        it(&quot;should return true with boolean false&quot;, function() {
            expect(Ext.isBoolean(false)).toBe(true);
        });

        it(&quot;should return false with string&quot;, function() {
            expect(Ext.isBoolean(&quot;foo&quot;)).toBe(false);
        });

        it(&quot;should return false with empty string&quot;, function() {
            expect(Ext.isBoolean(&quot;&quot;)).toBe(false);
        });

        it(&quot;should return false with number&quot;, function() {
            expect(Ext.isBoolean(1)).toBe(false);
        });

        it(&quot;should return false with null&quot;, function() {
            expect(Ext.isBoolean(null)).toBe(false);
        });

        it(&quot;should return false with undefined&quot;, function() {
            expect(Ext.isBoolean(undefined)).toBe(false);
        });

        it(&quot;should return false with date&quot;, function() {
            expect(Ext.isBoolean(new Date())).toBe(false);
        });

        it(&quot;should return false with empty object&quot;, function() {
            expect(Ext.isBoolean({})).toBe(false);
        });

        it(&quot;should return false with node list&quot;, function() {
            expect(Ext.isBoolean(document.getElementsByTagName('body'))).toBe(false);
        });

        it(&quot;should return false with element&quot;, function() {
           expect(Ext.isArray(Ext.getBody().dom)).toBe(false);
        });
    });

    describe(&quot;Ext.isDate&quot;, function() {
        it(&quot;should return false with empty array&quot;, function() {
            expect(Ext.isDate([])).toBe(false);
        });

        it(&quot;should return false with filled array&quot;, function() {
            expect(Ext.isDate([1, 2, 3, 4])).toBe(false);
        });

        it(&quot;should return false with boolean true&quot;, function() {
            expect(Ext.isDate(true)).toBe(false);
        });

        it(&quot;should return false with boolean false&quot;, function() {
            expect(Ext.isDate(false)).toBe(false);
        });

        it(&quot;should return false with string&quot;, function() {
            expect(Ext.isDate(&quot;foo&quot;)).toBe(false);
        });

        it(&quot;should return false with empty string&quot;, function() {
            expect(Ext.isDate(&quot;&quot;)).toBe(false);
        });

        it(&quot;should return false with number&quot;, function() {
            expect(Ext.isDate(1)).toBe(false);
        });

        it(&quot;should return false with null&quot;, function() {
            expect(Ext.isDate(null)).toBe(false);
        });

        it(&quot;should return false with undefined&quot;, function() {
            expect(Ext.isDate(undefined)).toBe(false);
        });

        it(&quot;should return true with date&quot;, function() {
            expect(Ext.isDate(new Date())).toBe(true);
        });

        it(&quot;should return false with empty object&quot;, function() {
            expect(Ext.isDate({})).toBe(false);
        });

        it(&quot;should return false with node list&quot;, function() {
            expect(Ext.isDate(document.getElementsByTagName('body'))).toBe(false);
        });

        it(&quot;should return false with element&quot;, function() {
            expect(Ext.isDate(Ext.getBody().dom)).toBe(false);
        });
    });

    describe(&quot;Ext.isDefined&quot;, function() {
        it(&quot;should return true with empty array&quot;, function() {
            expect(Ext.isDefined([])).toBe(true);
        });

        it(&quot;should return true with filled array&quot;, function() {
            expect(Ext.isDefined([1, 2, 3, 4])).toBe(true);
        });

        it(&quot;should return true with boolean true&quot;, function() {
            expect(Ext.isDefined(true)).toBe(true);
        });

        it(&quot;should return true with boolean false&quot;, function() {
            expect(Ext.isDefined(false)).toBe(true);
        });

        it(&quot;should return true with string&quot;, function() {
            expect(Ext.isDefined(&quot;foo&quot;)).toBe(true);
        });

        it(&quot;should return true with empty string&quot;, function() {
            expect(Ext.isDefined(&quot;&quot;)).toBe(true);
        });

        it(&quot;should return true with number&quot;, function() {
            expect(Ext.isDefined(1)).toBe(true);
        });

        it(&quot;should return true with null&quot;, function() {
            expect(Ext.isDefined(null)).toBe(true);
        });

        it(&quot;should return false with undefined&quot;, function() {
            expect(Ext.isDefined(undefined)).toBe(false);
        });

        it(&quot;should return true with date&quot;, function() {
            expect(Ext.isDefined(new Date())).toBe(true);
        });

        it(&quot;should return true with empty object&quot;, function() {
            expect(Ext.isDefined({})).toBe(true);
        });

        it(&quot;should return true with node list&quot;, function() {
            expect(Ext.isDefined(document.getElementsByTagName('body'))).toBe(true);
        });

        it(&quot;should return true with element&quot;, function() {
           expect(Ext.isDefined(Ext.getBody().dom)).toBe(true);
        });
    });

    describe(&quot;Ext.isElement&quot;, function() {
        it(&quot;should return false with empty array&quot;, function() {
            expect(Ext.isElement([])).toBe(false);
        });

        it(&quot;should return false with filled array&quot;, function() {
            expect(Ext.isElement([1, 2, 3, 4])).toBe(false);
        });

        it(&quot;should return false with boolean true&quot;, function() {
            expect(Ext.isElement(true)).toBe(false);
        });

        it(&quot;should return false with boolean false&quot;, function() {
            expect(Ext.isElement(false)).toBe(false);
        });

        it(&quot;should return false with string&quot;, function() {
            expect(Ext.isElement(&quot;foo&quot;)).toBe(false);
        });

        it(&quot;should return false with empty string&quot;, function() {
            expect(Ext.isElement(&quot;&quot;)).toBe(false);
        });

        it(&quot;should return false with number&quot;, function() {
            expect(Ext.isElement(1)).toBe(false);
        });

        it(&quot;should return false with null&quot;, function() {
            expect(Ext.isElement(null)).toBe(false);
        });

        it(&quot;should return false with undefined&quot;, function() {
            expect(Ext.isElement(undefined)).toBe(false);
        });

        it(&quot;should return false with date&quot;, function() {
            expect(Ext.isElement(new Date())).toBe(false);
        });

        it(&quot;should return false with empty object&quot;, function() {
            expect(Ext.isElement({})).toBe(false);
        });

        it(&quot;should return false with node list&quot;, function() {
            expect(Ext.isElement(document.getElementsByTagName('body'))).toBe(false);
        });

        it(&quot;should return true with element&quot;, function() {
           expect(Ext.isElement(Ext.getBody().dom)).toBe(true);
        });

        it(&quot;should return false with Ext.Element&quot;, function() {
           expect(Ext.isElement(Ext.getBody())).toBe(false);
        });

        it(&quot;should return false with TextNode&quot;, function() {
            var textNode = document.createTextNode('foobar');
            document.body.appendChild(textNode);
            expect(Ext.isElement(textNode)).toBe(false);
            document.body.removeChild(textNode);
        });
    });

    describe(&quot;Ext.isEmpty&quot;, function() {
        it(&quot;should return true with empty array&quot;, function() {
            expect(Ext.isEmpty([])).toBe(true);
        });

        it(&quot;should return false with filled array&quot;, function() {
            expect(Ext.isEmpty([1, 2, 3, 4])).toBe(false);
        });

        it(&quot;should return false with boolean true&quot;, function() {
            expect(Ext.isEmpty(true)).toBe(false);
        });

        it(&quot;should return false with boolean false&quot;, function() {
            expect(Ext.isEmpty(false)).toBe(false);
        });

        it(&quot;should return false with string&quot;, function() {
            expect(Ext.isEmpty(&quot;foo&quot;)).toBe(false);
        });

        it(&quot;should return true with empty string&quot;, function() {
            expect(Ext.isEmpty(&quot;&quot;)).toBe(true);
        });

        it(&quot;should return true with empty string with allowBlank&quot;, function() {
            expect(Ext.isEmpty(&quot;&quot;, true)).toBe(false);
        });

        it(&quot;should return false with number&quot;, function() {
            expect(Ext.isEmpty(1)).toBe(false);
        });

        it(&quot;should return true with null&quot;, function() {
            expect(Ext.isEmpty(null)).toBe(true);
        });

        it(&quot;should return true with undefined&quot;, function() {
            expect(Ext.isEmpty(undefined)).toBe(true);
        });

        it(&quot;should return false with date&quot;, function() {
            expect(Ext.isEmpty(new Date())).toBe(false);
        });

        it(&quot;should return false with empty object&quot;, function() {
            expect(Ext.isEmpty({})).toBe(false);
        });
    });

    describe(&quot;Ext.isFunction&quot;, function() {
        beforeEach(function() {
            // add global variable in whitelist
            addGlobal(&quot;ExtBox1&quot;);
        });

        it(&quot;should return true with anonymous function&quot;, function() {
            expect(Ext.isFunction(function(){})).toBe(true);
        });

        it(&quot;should return true with new Function syntax&quot;, function() {
            expect(Ext.isFunction(Ext.functionFactory('return &quot;&quot;;'))).toBe(true);
        });

        it(&quot;should return true with static function&quot;, function() {
            expect(Ext.isFunction(Ext.emptyFn)).toBe(true);
        });

        it(&quot;should return true with instance function&quot;, function() {
            var stupidClass = function() {},
                testObject;
            stupidClass.prototype.testMe = function() {};
            testObject = new stupidClass();

            expect(Ext.isFunction(testObject.testMe)).toBe(true);
        });

        it(&quot;should return true with function on object&quot;, function() {
            var o = {
                fn: function() {
                }
            };

            expect(Ext.isFunction(o.fn)).toBe(true);
        });

        it(&quot;should return false with empty array&quot;, function() {
            expect(Ext.isFunction([])).toBe(false);
        });

        it(&quot;should return false with filled array&quot;, function() {
            expect(Ext.isFunction([1, 2, 3, 4])).toBe(false);
        });

        it(&quot;should return false with boolean true&quot;, function() {
            expect(Ext.isFunction(true)).toBe(false);
        });

        it(&quot;should return false with boolean false&quot;, function() {
            expect(Ext.isFunction(false)).toBe(false);
        });

        it(&quot;should return false with string&quot;, function() {
            expect(Ext.isFunction(&quot;foo&quot;)).toBe(false);
        });

        it(&quot;should return false with empty string&quot;, function() {
            expect(Ext.isFunction(&quot;&quot;)).toBe(false);
        });

        it(&quot;should return false with number&quot;, function() {
            expect(Ext.isFunction(1)).toBe(false);
        });

        it(&quot;should return false with null&quot;, function() {
            expect(Ext.isFunction(null)).toBe(false);
        });

        it(&quot;should return false with undefined&quot;, function() {
            expect(Ext.isFunction(undefined)).toBe(false);
        });

        it(&quot;should return false with date&quot;, function() {
            expect(Ext.isFunction(new Date())).toBe(false);
        });

        it(&quot;should return false with empty object&quot;, function() {
            expect(Ext.isFunction({})).toBe(false);
        });

        it(&quot;should return false with node list&quot;, function() {
            expect(Ext.isFunction(document.getElementsByTagName('body'))).toBe(false);
        });
    });

    describe(&quot;Ext.isNumber&quot;, function() {
        it(&quot;should return true with zero&quot;, function() {
            expect(Ext.isNumber(0)).toBe(true);
        });

        it(&quot;should return true with non zero&quot;, function() {
            expect(Ext.isNumber(4)).toBe(true);
        });

        it(&quot;should return true with negative integer&quot;, function() {
            expect(Ext.isNumber(-3)).toBe(true);
        });

        it(&quot;should return true with float&quot;, function() {
            expect(Ext.isNumber(1.75)).toBe(true);
        });

        it(&quot;should return true with negative float&quot;, function() {
            expect(Ext.isNumber(-4.75)).toBe(true);
        });

        it(&quot;should return true with Number.MAX_VALUE&quot;, function() {
            expect(Ext.isNumber(Number.MAX_VALUE)).toBe(true);
        });

        it(&quot;should return true with Number.MIN_VALUE&quot;, function() {
            expect(Ext.isNumber(Number.MIN_VALUE)).toBe(true);
        });

        it(&quot;should return true with Math.PI&quot;, function() {
            expect(Ext.isNumber(Math.PI)).toBe(true);
        });

        it(&quot;should return true with Number() contructor&quot;, function() {
            expect(Ext.isNumber(Number('3.1'))).toBe(true);
        });

        it(&quot;should return false with NaN&quot;, function() {
            expect(Ext.isNumber(Number.NaN)).toBe(false);
        });

        it(&quot;should return false with Number.POSITIVE_INFINITY&quot;, function() {
            expect(Ext.isNumber(Number.POSITIVE_INFINITY)).toBe(false);
        });

        it(&quot;should return false with Number.NEGATIVE_INFINITY&quot;, function() {
            expect(Ext.isNumber(Number.NEGATIVE_INFINITY)).toBe(false);
        });

        it(&quot;should return false with empty array&quot;, function() {
            expect(Ext.isNumber([])).toBe(false);
        });

        it(&quot;should return false with filled array&quot;, function() {
            expect(Ext.isNumber([1, 2, 3, 4])).toBe(false);
        });

        it(&quot;should return false with boolean true&quot;, function() {
            expect(Ext.isNumber(true)).toBe(false);
        });

        it(&quot;should return false with boolean false&quot;, function() {
            expect(Ext.isNumber(false)).toBe(false);
        });

        it(&quot;should return false with string&quot;, function() {
            expect(Ext.isNumber(&quot;foo&quot;)).toBe(false);
        });

        it(&quot;should return false with empty string&quot;, function() {
            expect(Ext.isNumber(&quot;&quot;)).toBe(false);
        });

        it(&quot;should return false with string containing a number&quot;, function() {
            expect(Ext.isNumber(&quot;1.0&quot;)).toBe(false);
        });

        it(&quot;should return false with undefined&quot;, function() {
            expect(Ext.isNumber(undefined)).toBe(false);
        });

        it(&quot;should return false with date&quot;, function() {
            expect(Ext.isNumber(new Date())).toBe(false);
        });

        it(&quot;should return false with empty object&quot;, function() {
            expect(Ext.isNumber({})).toBe(false);
        });

        it(&quot;should return false with node list&quot;, function() {
            expect(Ext.isNumber(document.getElementsByTagName('body'))).toBe(false);
        });
    });

    describe(&quot;Ext.isNumeric&quot;, function() {
        it(&quot;should return true with zero&quot;, function() {
            expect(Ext.isNumeric(0)).toBe(true);
        });

        it(&quot;should return true with non zero&quot;, function() {
            expect(Ext.isNumeric(4)).toBe(true);
        });

        it(&quot;should return true with negative integer&quot;, function() {
            expect(Ext.isNumeric(-3)).toBe(true);
        });

        it(&quot;should return true with float&quot;, function() {
            expect(Ext.isNumeric(1.75)).toBe(true);
        });

        it(&quot;should return true with negative float&quot;, function() {
            expect(Ext.isNumeric(-4.75)).toBe(true);
        });

        it(&quot;should return true with Number.MAX_VALUE&quot;, function() {
            expect(Ext.isNumeric(Number.MAX_VALUE)).toBe(true);
        });

        it(&quot;should return true with Number.MIN_VALUE&quot;, function() {
            expect(Ext.isNumeric(Number.MIN_VALUE)).toBe(true);
        });

        it(&quot;should return true with Math.PI&quot;, function() {
            expect(Ext.isNumeric(Math.PI)).toBe(true);
        });

        it(&quot;should return true with Number() contructor&quot;, function() {
            expect(Ext.isNumeric(Number('3.1'))).toBe(true);
        });

        it(&quot;should return false with NaN&quot;, function() {
            expect(Ext.isNumeric(Number.NaN)).toBe(false);
        });

        it(&quot;should return false with Number.POSITIVE_INFINITY&quot;, function() {
            expect(Ext.isNumeric(Number.POSITIVE_INFINITY)).toBe(false);
        });

        it(&quot;should return false with Number.NEGATIVE_INFINITY&quot;, function() {
            expect(Ext.isNumeric(Number.NEGATIVE_INFINITY)).toBe(false);
        });

        it(&quot;should return false with empty array&quot;, function() {
            expect(Ext.isNumeric([])).toBe(false);
        });

        it(&quot;should return false with filled array&quot;, function() {
            expect(Ext.isNumeric([1, 2, 3, 4])).toBe(false);
        });

        it(&quot;should return false with boolean true&quot;, function() {
            expect(Ext.isNumeric(true)).toBe(false);
        });

        it(&quot;should return false with boolean false&quot;, function() {
            expect(Ext.isNumeric(false)).toBe(false);
        });

        it(&quot;should return false with string&quot;, function() {
            expect(Ext.isNumeric(&quot;foo&quot;)).toBe(false);
        });

        it(&quot;should return false with empty string&quot;, function() {
            expect(Ext.isNumeric(&quot;&quot;)).toBe(false);
        });

        it(&quot;should return true with string containing a number&quot;, function() {
            expect(Ext.isNumeric(&quot;1.0&quot;)).toBe(true);
        });

        it(&quot;should return false with undefined&quot;, function() {
            expect(Ext.isNumeric(undefined)).toBe(false);
        });

        it(&quot;should return false with date&quot;, function() {
            expect(Ext.isNumeric(new Date())).toBe(false);
        });

        it(&quot;should return false with empty object&quot;, function() {
            expect(Ext.isNumeric({})).toBe(false);
        });

        it(&quot;should return false with node list&quot;, function() {
            expect(Ext.isNumeric(document.getElementsByTagName('body'))).toBe(false);
        });
    });

    describe(&quot;Ext.isObject&quot;, function() {
        it(&quot;should return false with empty array&quot;, function() {
            expect(Ext.isObject([])).toBe(false);
        });

        it(&quot;should return false with filled array&quot;, function() {
            expect(Ext.isObject([1, 2, 3, 4])).toBe(false);
        });

        it(&quot;should return false with boolean true&quot;, function() {
            expect(Ext.isObject(true)).toBe(false);
        });

        it(&quot;should return false with boolean false&quot;, function() {
            expect(Ext.isObject(false)).toBe(false);
        });

        it(&quot;should return false with string&quot;, function() {
            expect(Ext.isObject(&quot;foo&quot;)).toBe(false);
        });

        it(&quot;should return false with empty string&quot;, function() {
            expect(Ext.isObject(&quot;&quot;)).toBe(false);
        });

        it(&quot;should return false with number&quot;, function() {
            expect(Ext.isObject(1)).toBe(false);
        });

        it(&quot;should return false with null&quot;, function() {
            expect(Ext.isObject(null)).toBe(false);
        });

        it(&quot;should return false with undefined&quot;, function() {
            expect(Ext.isObject(undefined)).toBe(false);
        });

        it(&quot;should return false with date&quot;, function() {
            expect(Ext.isObject(new Date())).toBe(false);
        });

        it(&quot;should return true with empty object&quot;, function() {
            expect(Ext.isObject({})).toBe(true);
        });

        it(&quot;should return false with a DOM node&quot;, function() {
            expect(Ext.isObject(document.body)).toBe(false);
        });

        it(&quot;should return false with a Text node&quot;, function() {
            expect(Ext.isObject(document.createTextNode('test'))).toBe(false);
        });

        it(&quot;should return true with object with properties&quot;, function() {
            expect(Ext.isObject({
                foo: 1
            })).toBe(true);
        });

        it(&quot;should return true with object instance&quot;, function() {
            var stupidClass = function() {};

            expect(Ext.isObject(new stupidClass())).toBe(true);
        });

        it(&quot;should return true with new Object syntax&quot;, function() {
            expect(Ext.isObject(new Object())).toBe(true);
        });

        it(&quot;should return false with dom element&quot;, function() {
            expect(Ext.isObject(document.body)).toBe(false);
        });
    });

    describe(&quot;Ext.isPrimitive&quot;, function() {
        it(&quot;should return true with integer&quot;, function() {
            expect(Ext.isPrimitive(1)).toBe(true);
        });

        it(&quot;should return true with negative integer&quot;, function() {
            expect(Ext.isPrimitive(-21)).toBe(true);
        });

        it(&quot;should return true with float&quot;, function() {
            expect(Ext.isPrimitive(2.1)).toBe(true);
        });

        it(&quot;should return true with negative float&quot;, function() {
            expect(Ext.isPrimitive(-12.1)).toBe(true);
        });

        it(&quot;should return true with Number.MAX_VALUE&quot;, function() {
            expect(Ext.isPrimitive(Number.MAX_VALUE)).toBe(true);
        });

        it(&quot;should return true with Math.PI&quot;, function() {
            expect(Ext.isPrimitive(Math.PI)).toBe(true);
        });

        it(&quot;should return true with empty string&quot;, function() {
            expect(Ext.isPrimitive(&quot;&quot;)).toBe(true);
        });

        it(&quot;should return true with non empty string&quot;, function() {
            expect(Ext.isPrimitive(&quot;foo&quot;)).toBe(true);
        });

        it(&quot;should return true with boolean true&quot;, function() {
            expect(Ext.isPrimitive(true)).toBe(true);
        });

        it(&quot;should return true with boolean false&quot;, function() {
            expect(Ext.isPrimitive(false)).toBe(true);
        });

        it(&quot;should return false with null&quot;, function() {
            expect(Ext.isPrimitive(null)).toBe(false);
        });

        it(&quot;should return false with undefined&quot;, function() {
            expect(Ext.isPrimitive(undefined)).toBe(false);
        });

        it(&quot;should return false with object&quot;, function() {
            expect(Ext.isPrimitive({})).toBe(false);
        });

        it(&quot;should return false with object instance&quot;, function() {
            var stupidClass = function() {};
            expect(Ext.isPrimitive(new stupidClass())).toBe(false);
        });

        it(&quot;should return false with array&quot;, function() {
            expect(Ext.isPrimitive([])).toBe(false);
        });
    });

    describe(&quot;Ext.isString&quot;, function() {
        it(&quot;should return true with empty string&quot;, function() {
            expect(Ext.isString(&quot;&quot;)).toBe(true);
        });

        it(&quot;should return true with non empty string&quot;, function() {
            expect(Ext.isString(&quot;foo&quot;)).toBe(true);
        });

        it(&quot;should return true with String() syntax&quot;, function() {
            expect(Ext.isString(String(&quot;&quot;))).toBe(true);
        });

        it(&quot;should return false with new String() syntax&quot;, function() { //should return an object that wraps the primitive
            expect(Ext.isString(new String(&quot;&quot;))).toBe(false);
        });

        it(&quot;should return false with number&quot;, function() {
            expect(Ext.isString(1)).toBe(false);
        });

        it(&quot;should return false with boolean&quot;, function() {
            expect(Ext.isString(true)).toBe(false);
        });

        it(&quot;should return false with null&quot;, function() {
            expect(Ext.isString(null)).toBe(false);
        });

        it(&quot;should return false with undefined&quot;, function() {
            expect(Ext.isString(undefined)).toBe(false);
        });

        it(&quot;should return false with array&quot;, function() {
            expect(Ext.isString([])).toBe(false);
        });

        it(&quot;should return false with object&quot;, function() {
            expect(Ext.isString({})).toBe(false);
        });
    });

    describe(&quot;Ext.isTextNode&quot;, function() {
        it(&quot;should return false with empty array&quot;, function() {
            expect(Ext.isTextNode([])).toBe(false);
        });

        it(&quot;should return false with filled array&quot;, function() {
            expect(Ext.isTextNode([1, 2, 3, 4])).toBe(false);
        });

        it(&quot;should return false with boolean true&quot;, function() {
            expect(Ext.isTextNode(true)).toBe(false);
        });

        it(&quot;should return false with boolean false&quot;, function() {
            expect(Ext.isTextNode(false)).toBe(false);
        });

        it(&quot;should return false with string&quot;, function() {
            expect(Ext.isTextNode(&quot;foo&quot;)).toBe(false);
        });

        it(&quot;should return false with empty string&quot;, function() {
            expect(Ext.isTextNode(&quot;&quot;)).toBe(false);
        });

        it(&quot;should return false with number&quot;, function() {
            expect(Ext.isTextNode(1)).toBe(false);
        });

        it(&quot;should return false with null&quot;, function() {
            expect(Ext.isTextNode(null)).toBe(false);
        });

        it(&quot;should return false with undefined&quot;, function() {
            expect(Ext.isTextNode(undefined)).toBe(false);
        });

        it(&quot;should return false with date&quot;, function() {
            expect(Ext.isTextNode(new Date())).toBe(false);
        });

        it(&quot;should return false with empty object&quot;, function() {
            expect(Ext.isTextNode({})).toBe(false);
        });

        it(&quot;should return false with node list&quot;, function() {
            expect(Ext.isTextNode(document.getElementsByTagName('body'))).toBe(false);
        });

        it(&quot;should return false with element&quot;, function() {
           expect(Ext.isTextNode(Ext.getBody().dom)).toBe(false);
        });

        it(&quot;should return false with Ext.Element&quot;, function() {
           expect(Ext.isTextNode(Ext.getBody())).toBe(false);
        });

        it(&quot;should return true with TextNode&quot;, function() {
            var textNode = document.createTextNode('foobar');
            document.body.appendChild(textNode);
            expect(Ext.isTextNode(textNode)).toBe(true);
            document.body.removeChild(textNode);
        });
    });

    describe(&quot;Ext.clone&quot;, function() {
        var clone;

        afterEach(function() {
            clone = null;
        });

        it(&quot;should clone an array&quot;, function() {
            var array = [2,'5',[1,3,4]];
            clone = Ext.clone(array);
            expect(clone).toEqual(array);
            expect(clone).not.toBe(array);
        });

        it(&quot;should clone an object&quot;, function() {
            var object = {
                fn: function() {
                    return 1;
                },
                b: 2
            };
            clone = Ext.clone(object);
            expect(clone).toEqual(object);
            expect(clone).not.toBe(object);
        });

        it(&quot;should clone a date&quot;, function(){
            var date = new Date();
            clone = Ext.clone(date);
            expect(clone).toEqual(date);
            expect(clone).not.toBe(date);
        });

        it(&quot;should clone a dom node&quot;, function(){
            var node = document.createElement('DIV');
            document.body.appendChild(node);
            clone = Ext.clone(node);
            expect(clone.tagName).toEqual(clone.tagName);
            expect(clone.innerHTML).toEqual(clone.innerHTML);
            expect(clone).not.toBe(node);
            document.body.removeChild(node);
        });
        
        it(&quot;should return null for null items&quot;, function() {
        	expect(Ext.clone(null)).toBeNull();
        });
        
        it(&quot;should return undefined for undefined items&quot;, function() {
        	expect(Ext.clone(undefined)).toBeUndefined();
        });
    });

    describe('getUniqueGlobalNamespace', function() {
        it(&quot;should return an unique global namespace&quot;, function() {
            expect(Ext.getUniqueGlobalNamespace()).toBe(&quot;ExtBox1&quot;);
        });
    });
});
</pre>
</body>
</html>
